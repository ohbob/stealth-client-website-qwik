import{l as t,s as e,J as n,r as a}from"./q-302ec242.js";import{F as o}from"./q-497f9860.js";let h=async function(...i){let[s]=t(),l=i.length>0&&i[0]instanceof AbortSignal?i.shift():void 0;{let t=e(),r=i.map(t=>t instanceof SubmitEvent&&t.target instanceof HTMLFormElement?new FormData(t.target):t instanceof Event||t instanceof Node?null:t),c=s.getHash(),f=await fetch(`?qfunc=${c}`,{method:"POST",headers:{"Content-Type":"application/qwik-json","X-QRL":c},signal:l,body:await n([s,...r])}),m=f.headers.get("Content-Type");if(f.ok&&"text/qwik-json-stream"===m&&f.body)return async function*(){try{for await(let e of o(f.body,t??document.documentElement,l))yield e}finally{null!=l&&l.aborted||await f.body.cancel()}}();if("application/qwik-json"===m){let e=await f.text(),n=await a(e,t??document.documentElement);if(500===f.status)throw n;return n}}};export{h as s_wOIPfiQ04l4};